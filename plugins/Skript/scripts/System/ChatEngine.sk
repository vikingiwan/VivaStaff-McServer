# ########### Chat Engine ############
# Custom Chat Engine, handles titles,
# formatting, json support and more.
# Also handles join & quit messages
#
# Dev: J.Hunter
# ###############################

on chat:
	cancel event
	
	# Emoji Renderer

	if message contains "<3":
		replace "<3" in message with "â¤"
	if message contains ":smoke:":
		replace ":smoke:" in message with "â€‰Ì³ Ì³ Ì³ Ì³â€‰Í™ Úªâ€Š"
	if message contains ":)":
		replace ":)" in message with "â˜º"
	if message contains "wut":
		replace "wut" in message with "à² _à² "
	if message contains ":pick:":
		replace ":pick:" in message with "â›"
	if message contains ":fire:":
		replace "fire" in message with "ğŸ”¥"
	if message contains ":hug:":
		replace ":hug:" in message with "(ã¥ï½¡â—•â€¿â€¿â—•ï½¡)ã¥"
	if message contains ":fu:":
		replace ":fu:" in message with "å‡¸(-_-)å‡¸"
	if message contains ":tableflip:":
		replace ":tableflip:" in message with "(â•¯Â°â–¡Â°ï¼‰â•¯ï¸µ â”»â”â”»"
	
	if sender has permission "sys.rank.owner":
		send formatted "<tooltip:&7[&fClick me to pm <##ff1100>%player's display name%&7]><suggest command:/msg %player% >%{prefix.%player%}% <##ff1100>%player's display name%<reset>&f: %message%" to all players
		send formatted "<##ff1100>%player's display name%<reset>&f: %message%" to console
	else if sender has permission "sys.rank.leader":
		send formatted "<tooltip:&7[&fClick me to pm <##9b59b6>%player's display name%&7]><suggest command:/msg %player% >{prefix.%player%}<##9b59b6>%player's display name%<reset>&f: %message%" to all players
		send formatted "<##9b59b6>%player's display name%<reset>&f: %message%" to console
	else if sender has permission "sys.rank.member":
		send formatted "<tooltip:&7[&fClick me to pm <##881A51>%player's display name%&7]><suggest command:/msg %player% >{prefix.%player%} <##881A51>%player's display name%<reset>&f: %message%" to all players		
		send formatted "<##881A51>%player's display name%<reset>&f: %message%" to console
	else:
		broadcast "<##ff0000>&lâš  &r<##9b59b6>BROKEN RANK <##ff0000>&lâš  &7%sender% â± %message%"
	#
#
on first join:
	broadcast "%{botprefix}% %player% has joined for the first time!"
#
	
on join:
	broadcast "&7[&a+&7] &7%player% has joined the server"
	set {prefix.%player%} to ""
#
on quit:
	broadcast "&7[&c-&7] &7%player% has left the server"
#


# Emoji list command
command /emoji:
	trigger:
		send "&e----------------------Emoji List----------------------"
		send "':)' -> â˜º"
		send "'<3' -> â¤"
		send "'wut' -> à² _à² "
		send "':pick:' -> â›"
		send "':fire:' -> ğŸ”¥"
		send "':hug:' -> (ã¥ï½¡â—•â€¿â€¿â—•ï½¡)ã¥"
		send "':fu:' -> å‡¸(-_-)å‡¸"
		send "':tableflip' -> (â•¯Â°â–¡Â°ï¼‰â•¯ï¸µ â”»â”â”»"
		send "&e----------------------------------------------------"